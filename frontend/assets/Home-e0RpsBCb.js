import{u as P,a as T,r as c,b as z,g as D,c as H,d as R,j as s,L as N,C as M,p as b}from"./index-D6pe-kGh.js";import{c as a}from"./Home.module-kMcilRqv.js";import{N as B,F as V}from"./Footer-CG7aCK23.js";import{t as o}from"./translations-C9662Ew1.js";import{F as W,a as q}from"./index-YVSbk2Ki.js";import{P as A}from"./ProductCard-CAk6QbHq.js";const X=()=>{var v,C;const m=P(),{language:n}=T(),[h,y]=c.useState(null),[l,k]=c.useState(null),[p,S]=c.useState(null),{contactLoading:I,contactError:g}=z(e=>e.main),[t,r]=c.useState({fullname:"",email:"",phone:"",subject:"",message:""}),[E,x]=c.useState(!0),[d,j]=c.useState(!1),[F,$]=c.useState(0),[_,f]=c.useState(!0),w=()=>{m(b(t)).then(e=>{e!=null&&e.payload&&(r({fullname:"",email:"",phone:"",subject:"",message:""}),j(!0))})},L=e=>{document.getElementById(e).scrollIntoView({behavior:"smooth"})};return c.useEffect(()=>{m(D()).then(e=>{var i;y((i=e==null?void 0:e.payload)==null?void 0:i.results)}),m(H()).then(e=>{S(e==null?void 0:e.payload)}),m(R()).then(e=>{k(e==null?void 0:e.payload)})},[]),c.useEffect(()=>{t.fullname&&t.email&&t.phone&&t.message?x(!1):x(!0)},[t]),c.useEffect(()=>{d&&setTimeout(()=>{j(!1)},5e3)},[d]),c.useEffect(()=>{const e=setInterval(()=>{f(!1),setTimeout(()=>{$(i=>{var u;return(i+1)%((u=l==null?void 0:l.images)==null?void 0:u.length)}),f(!0)},500)},5e3);return()=>clearInterval(e)},[l==null?void 0:l.images]),s.jsxs("section",{className:a.container,children:[s.jsx(B,{}),s.jsx(N,{to:"https://wa.me/972544860306",target:"_blank",className:a.whatsbtn,children:s.jsx(W,{})}),s.jsxs("div",{className:a.content,children:[s.jsx("div",{className:a.header,id:"header",style:{backgroundImage:`url(${(C=(v=l==null?void 0:l.images)==null?void 0:v[F])==null?void 0:C.image})`,backgroundSize:"cover",backgroundColor:"#000",backgroundPosition:"center",filter:_?"brightness(1)":"brightness(0.8)",transition:"filter 0.5s ease-in-out"},children:s.jsxs("div",{className:a.headerText,children:[s.jsx("h2",{children:l==null?void 0:l[`title_${n}`]}),s.jsx("p",{children:l==null?void 0:l[`description_${n}`]}),s.jsx("button",{className:a.btn,onClick:()=>L("contact"),children:o("startNow",n)})]})}),s.jsxs("div",{className:a.mostRecent,children:[s.jsx("div",{className:a.head,children:s.jsx("h2",{children:o("partners",n)})}),s.jsx("div",{className:a.itemsContainer,children:s.jsx("div",{className:a.items,children:h==null?void 0:h.map((e,i)=>s.jsxs(N,{to:e==null?void 0:e.slug,target:"_blank",className:a.category,children:[s.jsx("img",{src:e==null?void 0:e.image,alt:e==null?void 0:e.name}),s.jsx("p",{children:e==null?void 0:e[`name_${n}`]})]},i))})})]}),s.jsxs("div",{className:a.mostRecent,children:[s.jsx("div",{className:a.head,children:s.jsx("h2",{children:o("products",n)})}),s.jsx("div",{className:a.itemsContainer,children:s.jsx("div",{className:a.items,children:p==null?void 0:p.map((e,i)=>{var u;return s.jsx(A,{data:e,home:!0,blank:!0,to:`/${(u=e==null?void 0:e.shop)==null?void 0:u.slug}/product/${e==null?void 0:e.id}`})})})})]}),s.jsxs("div",{className:a.contact,id:"contact",children:[s.jsx("h3",{children:o("contact",n)}),d&&s.jsxs("div",{className:a.success,children:[s.jsx(q,{size:70,style:{color:"var(--purpleColor)"}}),s.jsx("p",{children:o("success",n)})]}),!d&&s.jsxs("div",{className:a.contactForm,children:[s.jsx("input",{type:"text",placeholder:o("fullname",n),value:t==null?void 0:t.fullname,onChange:e=>r({...t,fullname:e.target.value})}),s.jsx("input",{type:"email",placeholder:o("email",n),value:t==null?void 0:t.email,onChange:e=>r({...t,email:e.target.value})}),s.jsx("input",{type:"text",placeholder:o("phone",n),value:t==null?void 0:t.phone,onChange:e=>{/^\d*$/.test(e.target.value)&&r({...t,phone:e.target.value})}}),s.jsx("textarea",{name:"message",id:"message",placeholder:o("message",n),value:t==null?void 0:t.message,onChange:e=>r({...t,message:e.target.value})}),s.jsx("button",{disabled:E,onClick:w,children:I?s.jsx(M,{size:14,style:{color:"var(--purpleColor)"}}):o("send",n)}),g&&s.jsx("p",{className:"error",children:g})]})]})]}),s.jsx(V,{})]})};export{X as default};

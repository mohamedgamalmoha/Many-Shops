import{a as L,u as i,r as o,c as D,j as a,L as T}from"./index-D7fqPu8y.js";import{N as U,F as V}from"./Footer-D3bh0LOW.js";import{t as p,i as W,j as q}from"./translations-CkpzqZ7L.js";import{s as G,S as H,d as J,M as K,e as O}from"./sale-Dhc-YG0x.js";const m=()=>{const{language:r}=L(),z=i(),[d,E]=o.useState([]),l=o.useRef(),[x,F]=o.useState(!1),[t,I]=o.useState(!0),M=(s,h)=>{const n=encodeURIComponent(h),c=`https://wa.me/${s}?text=${n}`;window.open(c,"_blank")},P=s=>{F(s.isEnd),I(s.isBeginning)},B=s=>{s.stopPropagation(),s.preventDefault(),l.current&&!x&&l.current.slideNext()},R=s=>{s.stopPropagation(),s.preventDefault(),l.current&&!t&&l.current.slidePrev()};return o.useEffect(()=>{z(D()).then(s=>{E(s==null?void 0:s.payload)})},[]),a.jsxs("section",{className:"flex flex-col justify-between bg-[#f8f8f8] pt-22",children:[a.jsx(U,{}),a.jsx("h2",{className:"text-3xl text-center my-4",children:p("products",r)}),a.jsx("div",{className:"max-w-[1200px] w-[90%] mx-auto grid lg:grid-cols-4  md:grid-cols-3 grid-cols-2 md:gap-4 gap-2 lg:p-8 md:p-4 mb-20 bg-white rounded-[25px]",children:d==null?void 0:d.map((s,h)=>{var n,c,g,u,f,b,w,j,v,N,_,C,y,k,S,$;return a.jsxs(T,{to:`/${(n=s==null?void 0:s.shop)==null?void 0:n.slug}/product/${s==null?void 0:s.id}`,target:"_blank",className:`flex flex-col md:gap-2 gap-1 w-full md:min-h-[450px] h-full no-underline text-[var(--blackColor)] bg-[var(--whiteColor)] md:p-4 p-2 rounded-[15px] border border-[#ebebeb] relative overflow-hidden ${!(s!=null&&s.is_active)&&"cursor-not-allowed pointer-events-none"}`,children:[s!=null&&s.is_active?"":a.jsx("span",{className:"absolute inset-0 z-[999] w-full h-full bg-black/75 flex items-center justify-center text-center text-white cursor-not-allowed pointer-events-none",children:p("notAvailable",r)}),a.jsxs("div",{className:"px-2 py-1 rounded bg-[var(--purpleColor)] flex items-center justify-center gap-2 w-max mr-auto z-[9]",children:[a.jsx("p",{className:"text-white text-xs md:block hidden",children:(c=s==null?void 0:s.shop)==null?void 0:c[`name_${r}`]}),a.jsx("img",{className:"w-4",src:(g=s==null?void 0:s.shop)!=null&&g.image?(u=s==null?void 0:s.shop)==null?void 0:u.image:"https://placehold.co/60x60",alt:"brand"})]}),s!=null&&s.after_sale_price?a.jsx("img",{src:G,alt:"sale",className:"lg:w-11 w-8 absolute -top-2"}):"",(s==null?void 0:s.is_new)&&a.jsx("p",{className:"absolute md:right-4 right-2 md:top-12 top-8 h-fit w-max z-[9] px-2.5 pt-0 pb-0.5 rounded md:text-sm text-xs bg-[rgb(233,63,63)] text-white",children:"New"}),((f=s==null?void 0:s.product_images)==null?void 0:f.length)>0?a.jsx(H,{spaceBetween:5,slidesPerView:1,onSlideChange:P,onSwiper:e=>{l.current=e},className:"w-full rounded",allowTouchMove:!1,children:(b=s==null?void 0:s.product_images)==null?void 0:b.map((e,A)=>a.jsx(J,{children:a.jsx("img",{className:"w-full md:h-[200px] h-[150px] object-cover",src:e!=null&&e.image?e==null?void 0:e.image:placeholder,alt:e==null?void 0:e.id})},A))}):a.jsx("img",{className:"w-full md:h-[200px] h-[150px] rounded-[5px]",src:placeholder,alt:"placeholder"}),a.jsx("button",{className:"absolute left-2 top-[40%] md:w-[35px] w-[25px] md:h-[40px] h-[30px] flex items-center justify-center bg-[var(--yellowColor)] text-[var(--whiteColor)] rounded cursor-pointer z-[99]",onClick:R,disabled:t,style:{backgroundColor:"var(--purpleColor)"},children:a.jsx(K,{})}),a.jsx("button",{className:"absolute right-2 top-[40%] md:w-[35px] w-[25px] md:h-[40px] h-[30px] flex items-center justify-center bg-[var(--yellowColor)] text-[var(--whiteColor)] rounded cursor-pointer z-[99]",onClick:B,disabled:x,style:{backgroundColor:"var(--purpleColor)"},children:a.jsx(O,{})}),a.jsxs("div",{className:"flex flex-col",style:{alignItems:"flex-start",marginTop:"auto"},children:[a.jsxs("p",{className:"font-bold md:text-base text-sm",children:[(w=s==null?void 0:s[`name_${r}`])==null?void 0:w.slice(0,25),((j=s==null?void 0:s[`name_${r}`])==null?void 0:j.length)>25?"...":""," "]}),a.jsxs("p",{className:"md:text-base text-xs",children:[(v=s==null?void 0:s[`description_${r}`])==null?void 0:v.slice(0,50),"..."]})]}),a.jsxs("div",{className:"flex items-center justify-between md:gap-4 gap-2",children:[a.jsx("div",{className:"flex items-center gap-[0.5rem]",children:(N=s==null?void 0:s.colors)==null?void 0:N.map(e=>a.jsx("span",{className:"w-[15px] h-[15px] rounded-full bg-white",style:{backgroundColor:e}},e))}),a.jsx("div",{className:"flex items-center gap-[0.25rem]",children:(_=s==null?void 0:s.letter_sizes)!=null&&_.length?(C=s==null?void 0:s.letter_sizes)==null?void 0:C.map(e=>a.jsx("span",{className:"flex items-center justify-center text-center text-xs font-bold w-[20px] h-[20px] border border-[#d7d7d7] hover:bg-black hover:text-white",children:e},e)):(y=s==null?void 0:s.number_sizes)==null?void 0:y.map(e=>a.jsx("span",{className:"flex items-center justify-center text-center text-xs font-bold w-[20px] h-[20px] border border-[#d7d7d7] hover:bg-black hover:text-white",children:e},e))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("p",{style:{color:(s==null?void 0:s.after_sale_price)&&"#e93f3f"},children:[s!=null&&s.after_sale_price?s==null?void 0:s.after_sale_price:s==null?void 0:s.price,"₪"]}),(s==null?void 0:s.after_sale_price)&&a.jsxs("span",{children:[s==null?void 0:s.price,"₪"]})]}),a.jsxs("div",{className:"flex flex-col md:gap-4 gap-2",children:[a.jsxs("button",{className:"cursor-pointer w-fit px-4 py-2 rounded-md bg-[var(--purpleColor)] flex items-center gap-2 text-white border border-[var(--purpleColor)] hover:bg-white hover:text-[var(--purpleColor)] text-xs font-bold",onClick:()=>{var e;return M((e=s==null?void 0:s.shop)==null?void 0:e.contact_number,s==null?void 0:s[`name_${r}`])},children:[" ",p("orderNow",r)," ",a.jsx(W,{})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(s==null?void 0:s.ready_to_ship)&&a.jsx("p",{className:"text-sm",children:a.jsx(q,{})}),((k=s==null?void 0:s.tag)==null?void 0:k.icon)&&a.jsx("img",{className:"w-6",src:(S=s==null?void 0:s.tag)==null?void 0:S.icon,alt:($=s==null?void 0:s.tag)==null?void 0:$.name})]})]})]},s==null?void 0:s.id)})}),a.jsx(V,{})]})};export{m as default};
